pipeline{
  agent any

  parameters{
    string(name: "SPEC", defaultValue: "cypress/integration/**/**", description: "Ej: cypress/integration/pom/*.spec.js")
    choice(name: "BROWSER", choices: ['chrome', 'firefox', 'edge'], description: "Choose a browser to execute the scripts")
  }
  options{
    ansiColor('xTerm')
  }
  stages{
    stage('Build'){
      echo "Building Application"
    }
    stage('Testing'){
      sh "npm i"
      sh "npx cypress run--browser ${BROWSER} --spec ${SPEC}"
    }
    stage('Deploy'){
      echo "Deploying Application" 
    }
  }
}
